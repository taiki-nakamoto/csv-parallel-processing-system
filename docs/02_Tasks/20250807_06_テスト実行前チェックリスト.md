# Ê≠£Â∏∏Á≥ª„ÉÜ„Çπ„ÉàÂÆüË°åÂâç„ÉÅ„Çß„ÉÉ„ÇØ„É™„Çπ„Éà

## üìã ÂÆüË°åÊó•: 2025Âπ¥8Êúà7Êó•

### üîß „Ç§„É≥„Éï„É©Ê∫ñÂÇôÁä∂Ê≥Å

#### AWSÂü∫Áõ§„É™„ÇΩ„Éº„Çπ
- [x] Aurora PostgreSQLÁ®ºÂÉç‰∏≠
  - `csv-parallel-processing-aurora-dev.cluster-cbuqsk2gi5o4.ap-northeast-1.rds.amazonaws.com`
- [x] DynamoDB „ÉÜ„Éº„Éñ„É´4„Å§Á®ºÂÉç‰∏≠ 
  - audit-logs, processing-metadata, batch-jobs, job-locks
- [x] S3„Éê„Ç±„ÉÉ„ÉàÊ∫ñÂÇôÂÆå‰∫Ü
  - `csv-processing-526636471122-dev`
- [x] Step Functions StateMachine Active
  - `csv-parallel-processing-csv-processing-dev`

#### LambdaÈñ¢Êï∞Ë®≠ÂÆö
- [x] **ÈáçË¶Å**: Áí∞Â¢ÉÂ§âÊï∞Ë®≠ÂÆöÂÆå‰∫ÜÔºàS3_BUCKET_NAME, AURORA_ENDPOINTÁ≠âÔºâ
- [x] **ÈáçË¶Å**: VPCË®≠ÂÆöÊúâÂäπÂåñÔºàAuroraÊé•Á∂öÁî®Ôºâ
- [x] IAM„É≠„Éº„É´Ê®©ÈôêÁ¢∫Ë™çÔºàTerraform‰ΩúÊàê„É≠„Éº„É´‰ΩøÁî®Ôºâ
- [x] Lambda LayersÈÅ©Áî®Ê∏à„Åø

#### EventBridgeË®≠ÂÆö
- [x] S3„Ç§„Éô„É≥„ÉàÈÄöÁü•ÊúâÂäπ
- [x] EventBridge„É´„Éº„É´‰ΩúÊàêÊ∏à„Åø
- [x] Step Functions„Çø„Éº„Ç≤„ÉÉ„ÉàË®≠ÂÆöÊ∏à„Åø

### üíæ „Éá„Éº„ÇøÊ∫ñÂÇôÁä∂Ê≥Å

#### Aurora PostgreSQL
**üö®ÊúÄÈáçË¶Å**: „ÉÜ„Çπ„Éà„É¶„Éº„Ç∂„Éº100‰ª∂ÁôªÈå≤ÊâãÈ†Ü
  
  **‚ö†Ô∏èÈáçË¶Å**: „É¶„Éº„Ç∂„ÉºÊú™ÁôªÈå≤„ÅÆÂ†¥Âêà„ÄÅÂÖ®„É¨„Ç≥„Éº„ÉâÂá¶ÁêÜ„Åå`UserNotFoundError`„ÅßÂ§±Êïó„Åó„Åæ„ÅôÔºÅ
  
  **1. „Éá„Éº„Çø„Éô„Éº„ÇπÊé•Á∂ö:**
  ```bash
  # AuroraÊé•Á∂öÊÉÖÂ†±ÂèñÂæó
  aws secretsmanager get-secret-value \
    --secret-id "arn:aws:secretsmanager:ap-northeast-1:526636471122:secret:rds!cluster-9473744a-7f41-4d4e-88d7-427a8d09eadd-hOXGZz" \
    --query SecretString --output text | jq
  
  # psqlÊé•Á∂ö‰æã
  psql -h csv-parallel-processing-aurora-dev.cluster-cbuqsk2gi5o4.ap-northeast-1.rds.amazonaws.com \
       -U postgres -d csvbatch
  ```
  
  **2. „É¶„Éº„Ç∂„Éº‰ΩúÊàêSQLÂÆüË°å:**
  ```sql
  -- „ÉÜ„Çπ„Éà„É¶„Éº„Ç∂„ÉºU00001ÔΩûU00100„ÅÆ100‰ª∂‰∏ÄÊã¨ÁôªÈå≤
  INSERT INTO users (user_id, username, email, created_at, updated_at, is_active, metadata) VALUES
  ('U00001', 'testuser001', 'test001@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00002', 'testuser002', 'test002@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00003', 'testuser003', 'test003@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00004', 'testuser004', 'test004@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00005', 'testuser005', 'test005@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00006', 'testuser006', 'test006@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00007', 'testuser007', 'test007@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00008', 'testuser008', 'test008@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00009', 'testuser009', 'test009@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00010', 'testuser010', 'test010@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00011', 'testuser011', 'test011@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00012', 'testuser012', 'test012@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00013', 'testuser013', 'test013@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00014', 'testuser014', 'test014@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00015', 'testuser015', 'test015@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00016', 'testuser016', 'test016@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00017', 'testuser017', 'test017@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00018', 'testuser018', 'test018@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00019', 'testuser019', 'test019@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00020', 'testuser020', 'test020@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00021', 'testuser021', 'test021@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00022', 'testuser022', 'test022@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00023', 'testuser023', 'test023@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00024', 'testuser024', 'test024@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00025', 'testuser025', 'test025@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00026', 'testuser026', 'test026@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00027', 'testuser027', 'test027@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00028', 'testuser028', 'test028@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00029', 'testuser029', 'test029@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00030', 'testuser030', 'test030@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00031', 'testuser031', 'test031@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00032', 'testuser032', 'test032@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00033', 'testuser033', 'test033@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00034', 'testuser034', 'test034@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00035', 'testuser035', 'test035@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00036', 'testuser036', 'test036@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00037', 'testuser037', 'test037@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00038', 'testuser038', 'test038@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00039', 'testuser039', 'test039@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00040', 'testuser040', 'test040@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00041', 'testuser041', 'test041@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00042', 'testuser042', 'test042@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00043', 'testuser043', 'test043@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00044', 'testuser044', 'test044@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00045', 'testuser045', 'test045@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00046', 'testuser046', 'test046@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00047', 'testuser047', 'test047@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00048', 'testuser048', 'test048@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00049', 'testuser049', 'test049@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00050', 'testuser050', 'test050@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00051', 'testuser051', 'test051@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00052', 'testuser052', 'test052@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00053', 'testuser053', 'test053@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00054', 'testuser054', 'test054@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00055', 'testuser055', 'test055@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00056', 'testuser056', 'test056@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00057', 'testuser057', 'test057@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00058', 'testuser058', 'test058@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00059', 'testuser059', 'test059@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00060', 'testuser060', 'test060@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00061', 'testuser061', 'test061@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00062', 'testuser062', 'test062@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00063', 'testuser063', 'test063@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00064', 'testuser064', 'test064@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00065', 'testuser065', 'test065@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00066', 'testuser066', 'test066@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00067', 'testuser067', 'test067@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00068', 'testuser068', 'test068@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00069', 'testuser069', 'test069@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00070', 'testuser070', 'test070@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00071', 'testuser071', 'test071@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00072', 'testuser072', 'test072@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00073', 'testuser073', 'test073@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00074', 'testuser074', 'test074@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00075', 'testuser075', 'test075@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00076', 'testuser076', 'test076@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00077', 'testuser077', 'test077@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00078', 'testuser078', 'test078@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00079', 'testuser079', 'test079@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00080', 'testuser080', 'test080@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00081', 'testuser081', 'test081@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00082', 'testuser082', 'test082@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00083', 'testuser083', 'test083@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00084', 'testuser084', 'test084@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00085', 'testuser085', 'test085@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00086', 'testuser086', 'test086@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00087', 'testuser087', 'test087@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00088', 'testuser088', 'test088@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00089', 'testuser089', 'test089@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00090', 'testuser090', 'test090@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00091', 'testuser091', 'test091@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00092', 'testuser092', 'test092@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00093', 'testuser093', 'test093@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00094', 'testuser094', 'test094@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00095', 'testuser095', 'test095@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00096', 'testuser096', 'test096@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00097', 'testuser097', 'test097@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00098', 'testuser098', 'test098@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00099', 'testuser099', 'test099@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}'),
  ('U00100', 'testuser100', 'test100@example.com', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, TRUE, '{}');
  ```
  
  **3. ÁôªÈå≤Á¢∫Ë™ç:**
  ```sql
  -- „É¶„Éº„Ç∂„ÉºÁôªÈå≤Êï∞Á¢∫Ë™çÔºàÁµêÊûú: 100„Åß„ÅÇ„Çã„Åì„Å®Ôºâ
  SELECT COUNT(*) FROM users WHERE user_id LIKE 'U00%';
  
  -- „Çµ„É≥„Éó„É´„Éá„Éº„ÇøÁ¢∫Ë™ç
  SELECT user_id, username, email, is_active 
  FROM users 
  WHERE user_id IN ('U00001', 'U00050', 'U00100') 
  ORDER BY user_id;
  
  -- ÂÖ®„É¶„Éº„Ç∂„ÉºID‰∏ÄË¶ßË°®Á§∫ÔºàÊúÄÂàù„ÅÆ10‰ª∂Ôºâ
  SELECT user_id, username 
  FROM users 
  WHERE user_id LIKE 'U00%' 
  ORDER BY user_id 
  LIMIT 10;
  ```
  
**user_statistics„ÉÜ„Éº„Éñ„É´ÂàùÊúüÂåñÊâãÈ†Ü**
  
  **Êó¢Â≠ò„ÉÜ„Çπ„Éà„Éá„Éº„Çø„ÇØ„É™„Ç¢:**
  ```sql
  -- „ÉÜ„Çπ„Éà„É¶„Éº„Ç∂„Éº„ÅÆÊó¢Â≠òÁµ±Ë®à„Éá„Éº„Çø„ÇíÂâäÈô§
  DELETE FROM user_statistics WHERE user_id LIKE 'U00%';
  ```
  
  **ÂàùÊúüÂåñÁ¢∫Ë™ç:**
  ```sql
  -- „ÉÜ„Çπ„Éà„É¶„Éº„Ç∂„Éº„ÅÆÁµ±Ë®à„Éá„Éº„Çø„Åå0‰ª∂„Åß„ÅÇ„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
  SELECT COUNT(*) FROM user_statistics WHERE user_id LIKE 'U00%';
  -- ÁµêÊûú: 0
  
  -- user_statistics„ÉÜ„Éº„Éñ„É´„ÅÆÂÖ®‰ΩìÁä∂Ê≥ÅÁ¢∫Ë™ç
  SELECT COUNT(*) AS total_records FROM user_statistics;
  ```

#### „ÉÜ„Çπ„Éà„Éï„Ç°„Ç§„É´
- [x] CSV „Éï„Ç°„Ç§„É´Ê∫ñÂÇôÂÆå‰∫Ü
  - „Éï„Ç°„Ç§„É´Âêç: `test-user-stats-20250807-100records.csv`  
  - „É¨„Ç≥„Éº„ÉâÊï∞: 100‰ª∂Ôºà„Éò„ÉÉ„ÉÄ„ÉºÂê´„ÇÄ101Ë°åÔºâ
  - „Éï„Ç©„Éº„Éû„ÉÉ„Éà: `„É¶„Éº„Ç∂„ÉºID,„É≠„Ç∞„Ç§„É≥ÂõûÊï∞,ÊäïÁ®øÂõûÊï∞`

### üö® ÈáçË¶Å„Å™Êó¢Áü•Ë™≤È°å

#### ‰∫ãÂâçÂØæÂøúÂøÖÈ†àÈ†ÖÁõÆ
- [x] **ÊúÄÈáçË¶Å**: LambdaÁí∞Â¢ÉÂ§âÊï∞„ÅÆÂÆåÂÖ®Ë®≠ÂÆö
  - ‚úÖ Áí∞Â¢ÉÂ§âÊï∞20ÂÄãÂÖ®„Å¶Ë®≠ÂÆöÂÆå‰∫ÜÔºàSAM template.yamlÈÅ©Áî®Ê∏à„ÅøÔºâ
  - ‚úÖ SAM template.yaml‰øÆÊ≠£„Éª„Éá„Éó„É≠„Ç§ÂÆå‰∫Ü
- [x] **ÈáçË¶Å**: VPCË®≠ÂÆö„ÅÆÊúâÂäπÂåñ
  - ‚úÖ AuroraÊé•Á∂öÁî®VPCË®≠ÂÆöÂÆå‰∫Ü
  - ‚úÖ „Éó„É©„Ç§„Éô„Éº„Éà„Çµ„Éñ„Éç„ÉÉ„Éà2„Å§„Éª„Çª„Ç≠„É•„É™„ÉÜ„Ç£„Ç∞„É´„Éº„ÉóË®≠ÂÆöÊ∏à„Åø

#### „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóË®àÁîª
- [x] Step FunctionsÊâãÂãïÂÆüË°å„Ç≥„Éû„É≥„ÉâÊ∫ñÂÇôÊ∏à„Åø
  - EventBridgeËá™ÂãïËµ∑Âãï„ÅåÂ§±Êïó„Åó„ÅüÂ†¥Âêà„ÅÆ‰ª£ÊõøÊâãÊÆµ

### ‚è±Ô∏è „ÉÜ„Çπ„ÉàÂÆüË°å„Çπ„Ç±„Ç∏„É•„Éº„É´

1. **Phase 1**: ‰∫ãÂâçÊ∫ñÂÇô‰øÆÊ≠£ÔºàÊé®ÂÆö1-2ÊôÇÈñìÔºâ
   - LambdaÁí∞Â¢ÉÂ§âÊï∞Ë®≠ÂÆö„ÉªVPCÊúâÂäπÂåñ
   - SAMÂÜç„Éá„Éó„É≠„Ç§
   - Ë®≠ÂÆöÁ¢∫Ë™ç„ÉÜ„Çπ„Éà

2. **Phase 2**: „Éá„Éº„ÇøÊ∫ñÂÇôÔºàÊé®ÂÆö30ÂàÜÔºâ
   - Aurora„ÉÜ„Çπ„Éà„É¶„Éº„Ç∂„ÉºÁôªÈå≤
   - ÂàùÊúüÁä∂ÊÖãÁ¢∫Ë™ç

3. **Phase 3**: „ÉÜ„Çπ„ÉàÂÆüË°åÔºàÊé®ÂÆö30ÂàÜÔºâ
   - CSV„Éï„Ç°„Ç§„É´S3„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ
   - Step FunctionsÂÆüË°å„ÉªÁõ£Ë¶ñ
   - Âü∫Êú¨Âãï‰ΩúÁ¢∫Ë™ç

4. **Phase 4**: ÁµêÊûúÊ§úË®ºÔºàÊé®ÂÆö1ÊôÇÈñìÔºâ
   - „Éá„Éº„Çø„Éô„Éº„ÇπÁµêÊûúÁ¢∫Ë™ç
   - „É≠„Ç∞Ë©≥Á¥∞ÂàÜÊûê
   - ÊÄßËÉΩÊ∏¨ÂÆö

### üéØ ÊàêÂäüÂà§ÂÆöÂü∫Ê∫ñ

#### ÂøÖÈ†àÊù°‰ª∂

**1. Step Functions: `SUCCEEDED`„ÅßÂÆå‰∫Ü**
- **Á¢∫Ë™çÂ†¥ÊâÄ**: AWS Console ‚Üí Step Functions
- **StateMachineÂêç**: `csv-parallel-processing-csv-processing-dev`
- **Á¢∫Ë™çÊñπÊ≥ï**: 
  - ÂÆüË°åÂ±•Ê≠¥„ÅßÊúÄÊñ∞ÂÆüË°å„ÅÆ„Çπ„ÉÜ„Éº„Çø„Çπ„Åå`SUCCEEDED`
  - ÂÆüË°åÊôÇÈñì„Åå15ÂàÜ‰ª•ÂÜÖ„ÅßÂÆå‰∫Ü
  - ÂÖ®„Çπ„ÉÜ„ÉÉ„Éó„ÅåÁ∑ëËâ≤ÔºàÊàêÂäüÔºâ„ÅßË°®Á§∫

**2. Aurora: 100„É¨„Ç≥„Éº„ÉâÂÖ®„Å¶`user_statistics`„Å´ÂèçÊò†**
- **Á¢∫Ë™çÁî®SQL**Ôºà10‰ª∂„Çµ„É≥„Éó„É´Á¢∫Ë™çÔºâ:
```sql
-- Âá¶ÁêÜÂæå„ÅÆuser_statisticsÊõ¥Êñ∞Á¢∫Ë™çÔºàÊúÄÂàù„ÅÆ10‰ª∂Ôºâ
SELECT 
    user_id,
    login_count,
    post_count,
    updated_at,
    CASE 
        WHEN updated_at > CURRENT_TIMESTAMP - INTERVAL '1 hour' THEN 'RECENTLY_UPDATED'
        ELSE 'OLD_DATA'
    END AS update_status
FROM user_statistics 
WHERE user_id LIKE 'U00%' 
ORDER BY user_id 
LIMIT 10;

-- ÂÖ®‰ª∂Êõ¥Êñ∞Á¢∫Ë™ç
SELECT COUNT(*) as updated_records
FROM user_statistics 
WHERE user_id LIKE 'U00%' 
  AND updated_at > CURRENT_TIMESTAMP - INTERVAL '1 hour';
-- ÊúüÂæÖÁµêÊûú: 100

-- CSV„Éá„Éº„Çø„Å®„ÅÆÊï¥ÂêàÊÄßÁ¢∫Ë™çÔºà„Çµ„É≥„Éó„É´Ôºâ
SELECT 
    us.user_id,
    us.login_count,
    us.post_count
FROM user_statistics us
WHERE us.user_id IN ('U00001', 'U00002', 'U00003', 'U00050', 'U00100')
ORDER BY us.user_id;
```

**3. DynamoDB: ÂÖ®Âá¶ÁêÜ„ÅÆÁõ£Êüª„É≠„Ç∞Ë®òÈå≤**
- **Á¢∫Ë™ç„ÉÜ„Éº„Éñ„É´**: AWS Console ‚Üí DynamoDB ‚Üí „ÉÜ„Éº„Éñ„É´
  - `csv-parallel-processing-audit-logs-dev` - Áõ£Êüª„É≠„Ç∞
  - `csv-parallel-processing-processing-metadata-dev` - Âá¶ÁêÜ„É°„Çø„Éá„Éº„Çø
  - `csv-parallel-processing-batch-jobs-dev` - „Éê„ÉÉ„ÉÅ„Ç∏„Éß„ÉñÊÉÖÂ†±
- **Á¢∫Ë™çÈ†ÖÁõÆ**:
  - audit-logs: Âá¶ÁêÜÈñãÂßã/ÂÆå‰∫Ü/„Ç®„É©„Éº„É≠„Ç∞
  - processing-metadata: CSV„Éï„Ç°„Ç§„É´Âá¶ÁêÜÊÉÖÂ†±
  - batch-jobs: „Éê„ÉÉ„ÉÅÂÆüË°å„Çπ„ÉÜ„Éº„Çø„Çπ

**4. Lambda: „Ç®„É©„Éº„Å™„ÅèÂÖ®„Ç§„Éô„É≥„Éà„Çø„Ç§„ÉóÂá¶ÁêÜ**
- **Á¢∫Ë™ç„É≠„Ç∞**: AWS Console ‚Üí CloudWatch ‚Üí Logs ‚Üí „É≠„Ç∞„Ç∞„É´„Éº„Éó
- **„É≠„Ç∞„Ç∞„É´„Éº„ÉóÂêç**: `/aws/lambda/csv-parallel-processing-csv-processor-dev`
- **„Ç®„É©„ÉºÊ§úÁ¥¢„Éï„Ç£„É´„Çø„Éº**:
```
ERROR
```
„Åæ„Åü„ÅØ
```
[ERROR, WARN, FATAL]
```
„Åæ„Åü„ÅØÂÖ∑‰ΩìÁöÑ„Ç®„É©„ÉºÊ§úÁ¥¢:
```
"UserNotFoundError"
```
```
"ValidationError"
```
```
"ProcessingError"
```
- **Ê≠£Â∏∏Âá¶ÁêÜÁ¢∫Ë™ç„Éï„Ç£„É´„Çø„Éº**:
```
"processing completed successfully"
```
```
"EVENT_PROCESSED_SUCCESSFULLY"
```

#### ÊÄßËÉΩÁõÆÊ®ô
- [ ] Á∑èÂá¶ÁêÜÊôÇÈñì: 15ÂàÜ‰ª•ÂÜÖ
- [ ] ‰∏¶ÂàóÂá¶ÁêÜ: ÊúÄÂ§ß5‰∏¶Âàó„ÅßÂÆüË°å
- [ ] „Éá„Éº„ÇøÊï¥ÂêàÊÄß: 0‰ª∂„ÅÆ„Éá„Éº„Çø‰∏çÊï¥Âêà

### üöß „É™„Çπ„ÇØË©ï‰æ°

#### È´ò„É™„Çπ„ÇØÈ†ÖÁõÆ
- **AuroraÊé•Á∂ö„Ç®„É©„Éº**: VPCÊú™Ë®≠ÂÆö„Å´„Çà„ÇãÊé•Á∂öÂ§±Êïó
- **Áí∞Â¢ÉÂ§âÊï∞‰∏çÂÇô**: Â§ñÈÉ®„É™„ÇΩ„Éº„ÇπÊé•Á∂öÊÉÖÂ†±‰∏çË∂≥
- **IAMÊ®©Èôê‰∏çË∂≥**: Terraform/SAMÈñì„ÅÆ„É≠„Éº„É´‰∏çÊï¥Âêà

#### ÂØæÁ≠ñÊ∫ñÂÇô
- [x] ÂêÑÁ®ÆÊé•Á∂ö„ÉÜ„Çπ„Éà„Ç≥„Éû„É≥„ÉâÊ∫ñÂÇô
- [x] „Ç®„É©„ÉºÊôÇ„ÅÆË™øÊüªÊâãÈ†ÜÁ¢∫Á´ã
- [x] ÊâãÂãïÂÆüË°å„Åß„ÅÆ‰ª£ÊõøÊâãÊÆµÁ¢∫‰øù

### üìä Áõ£Ë¶ñ„ÉªÁ¢∫Ë™ç„Éù„Ç§„É≥„Éà

#### „É™„Ç¢„É´„Çø„Ç§„É†Áõ£Ë¶ñ
- [x] AWS Console Step FunctionsÂÆüË°åÁîªÈù¢
- [x] CloudWatch Logs LambdaÈñ¢Êï∞„É≠„Ç∞
- [x] AuroraÊé•Á∂öÁä∂Ê≥Å

#### ‰∫ãÂæåÁ¢∫Ë™çÈ†ÖÁõÆ
- [ ] Âá¶ÁêÜÊôÇÈñì„Éª„Çπ„É´„Éº„Éó„ÉÉ„ÉàÊ∏¨ÂÆö
- [ ] „Éá„Éº„ÇøÊ≠£Á¢∫ÊÄßÊ§úË®º
- [ ] „Ç®„É©„Éº/Ë≠¶Âëä„É≠„Ç∞ÂàÜÊûê

---

## ‚ö° ÊúÄÂÑ™ÂÖàÂØæÂøú‰∫ãÈ†Ö

### 1. LambdaÁí∞Â¢ÉÂ§âÊï∞Ë®≠ÂÆöÔºàÂøÖÈ†àÔºâ
```yaml
# template.yaml‰øÆÊ≠£ÁÆáÊâÄ
Environment:
  Variables:
    S3_BUCKET_NAME: "csv-processing-526636471122-dev"
    AURORA_ENDPOINT: "csv-parallel-processing-aurora-dev.cluster-cbuqsk2gi5o4.ap-northeast-1.rds.amazonaws.com"
    # „Åù„ÅÆ‰ªñ„Ç≥„É°„É≥„Éà„Ç¢„Ç¶„ÉàÈ†ÖÁõÆ„ÇíÊúâÂäπÂåñ
```

### 2. VPCË®≠ÂÆöÊúâÂäπÂåñÔºàÂøÖÈ†àÔºâ
```yaml
# template.yaml‰øÆÊ≠£ÁÆáÊâÄ  
VpcConfig:
  SecurityGroupIds:
    - "sg-06c634d551276a4ea"
  SubnetIds:
    - "subnet-08a0f6d12ec88f57b"
    - "subnet-0b5bc36627c1f6dbb"
```

### 3. Aurora‰∫ãÂâç„Éá„Éº„ÇøÁôªÈå≤ÔºàÂøÖÈ†àÔºâ
```sql
-- U00001„Åã„ÇâU00100„Åæ„Åß„ÅÆ100„É¶„Éº„Ç∂„ÉºÁôªÈå≤
-- Ë©≥Á¥∞„ÅØÊ∫ñÂÇôÊâãÈ†ÜÊõ∏ÂèÇÁÖß
```

---

**‚úÖ ÂÖ®„ÉÅ„Çß„ÉÉ„ÇØÂÆå‰∫ÜÂæå„Å´„ÉÜ„Çπ„ÉàÂÆüË°åÈñãÂßã**

**ÂÆüË°å„Ç≥„Éû„É≥„Éâ‰æã**:
```bash
# S3„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ
aws s3 cp test-user-stats-20250807-100records.csv \
  s3://csv-processing-526636471122-dev/incoming/

# Âá¶ÁêÜÁä∂Ê≥ÅÁ¢∫Ë™ç
aws stepfunctions list-executions \
  --state-machine-arn "arn:aws:states:ap-northeast-1:526636471122:stateMachine:csv-parallel-processing-csv-processing-dev"
```